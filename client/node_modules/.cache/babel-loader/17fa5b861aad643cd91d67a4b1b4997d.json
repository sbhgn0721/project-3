{"ast":null,"code":"var _jsxFileName = \"/Users/sitruk/Desktop/bootcamp/homework/project3/project-3/client/src/pages/RewardList.js\";\nimport React, { Component } from \"react\";\nimport NavTabs from \"../components/NavTabs/NavTabs\";\nimport RewardForm from \"../components/RewardForm/RewardForm\";\nimport API from \"../utils/API\";\n\nclass RewardList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rewardLevel1Name: \"\",\n      rewardLevel2Name: \"\",\n      rewardLevel3Name: \"\",\n      level: \"1\",\n      completion: \"false\",\n      rewardList: [],\n      level1ChoreList: [],\n      level2ChoreList: [],\n      level3ChoreList: []\n    };\n\n    this.handleLevel1RewardNameChange = event => {\n      this.setState({\n        rewardLevel1Name: event.target.value\n      });\n    };\n\n    this.handleSaveLevel1Reward = event => {\n      event.preventDefault();\n      console.log(\"level1\", this.state.rewardLevel1Name);\n      let savedReward = {\n        id: this.state.rewardList.filter(obj => obj.level === \"1\")[0]._id,\n        rewardName: this.state.rewardLevel1Name,\n        level: \"1\"\n      };\n      API.saveReward(savedReward).then(this.setState({\n        message: alert(\"Your reward is saved!\")\n      })).then(res => this.componentDidMount()).catch(err => console.log(err));\n    };\n\n    this.handleLevel2RewardNameChange = event => {\n      this.setState({\n        rewardLevel2Name: event.target.value\n      });\n    };\n\n    this.handleSaveLevel2Reward = event => {\n      event.preventDefault();\n      console.log(\"level 2\", this.state.rewardLevel2Name);\n      let savedReward = {\n        id: this.state.rewardList.filter(obj => obj.level === \"2\")[0]._id,\n        rewardName: this.state.rewardLevel2Name,\n        level: \"2\"\n      };\n      API.saveReward(savedReward).then(this.setState({\n        message: alert(\"Your reward is saved!\")\n      })).then(res => this.componentDidMount()).catch(err => console.log(err));\n    };\n\n    this.handleLevel3RewardNameChange = event => {\n      this.setState({\n        rewardLevel3Name: event.target.value\n      });\n    };\n\n    this.handleSaveLevel3Reward = event => {\n      event.preventDefault();\n      console.log(\"level 3\", this.state.rewardLevel3Name);\n      let savedReward = {\n        id: this.state.rewardList.filter(obj => obj.level === \"3\")[0]._id,\n        rewardName: this.state.rewardLevel3Name,\n        level: \"3\"\n      };\n      API.saveReward(savedReward).then(this.setState({\n        message: alert(\"Your reward is saved!\")\n      })).then(res => this.componentDidMount()).catch(err => console.log(err));\n    };\n\n    this.handleCheckboxChange = event => {\n      event.preventDefault(); // console.log(\"completion status\", this.state.completion);\n\n      console.log(\"last item checked:\", isChecked, \"\\n\" + itemName);\n      console.log(\"what is event\", event.target);\n      const itemName = event.target.name;\n      const isChecked = event.target.checked;\n      const id = event.target.id;\n      const level = event.target.getAttribute(\"level\");\n      const dueDate = event.target.getAttribute(\"duedate\");\n      console.log(\"combine\", itemName, isChecked, id, level, dueDate);\n      let chore = {\n        id: id,\n        choreName: itemName,\n        completion: isChecked,\n        dueDate: dueDate,\n        level: level\n      };\n      API.updateChore(chore) // .then(this.setState({message:alert(\"Good job!\")}))\n      .then(res => this.componentDidMount()).catch(err => console.log(err));\n    };\n  }\n\n  componentDidMount() {\n    API.getReward().then(res => {\n      let level1Name = res.data.filter(obj => obj.level === \"1\")[0].rewardName;\n      let level2Name = res.data.filter(obj => obj.level === \"2\")[0].rewardName;\n      let level3Name = res.data.filter(obj => obj.level === \"3\")[0].rewardName;\n      this.setState({\n        rewardList: res.data,\n        rewardLevel1Name: level1Name,\n        rewardLevel2Name: level2Name,\n        rewardLevel3Name: level3Name\n      });\n    }).then(() => {\n      API.getChoreByLevel(\"1\").then(res => {\n        // console.log(\"is it here\", res.data[0].chores);\n        this.setState({\n          level1ChoreList: res.data[0].chores\n        });\n        const level1TotalChores = res.data[0].chores.length;\n        console.log(\"level1TotalChores: \", level1TotalChores);\n        const level1ChoreCount = res.data[0].chores.filter(item => item.completion === true).length;\n        console.log(\"level1ChoreCount: \", level1ChoreCount);\n        const level1ChoreComplete = res.data[0].chores.filter(item => item.completion === false).length === 0;\n        console.log(\"level1ChoreComplete: \", level1ChoreComplete);\n      });\n      API.getChoreByLevel(\"2\").then(res => {\n        // console.log(\"is it here\", res.data[0].chores);\n        this.setState({\n          level2ChoreList: res.data[0].chores\n        });\n        const level2TotalChores = res.data[0].chores.length;\n        console.log(\"level2TotalChores: \", level2TotalChores);\n        const level2ChoreCount = res.data[0].chores.filter(item => item.completion === true).length;\n        console.log(\"level2ChoreCount: \", level2ChoreCount);\n        const level2ChoreComplete = res.data[0].chores.filter(item => item.completion === false).length === 0;\n        console.log(\"level2ChoreComplete: \", level2ChoreComplete);\n      });\n      API.getChoreByLevel(\"3\").then(res => {\n        // console.log(\"is it here\", res.data[0].chores);\n        this.setState({\n          level3ChoreList: res.data[0].chores\n        });\n        const level3TotalChores = res.data[0].chores.length;\n        console.log(\"level3TotalChores: \", level3TotalChores);\n        const level3ChoreCount = res.data[0].chores.filter(item => item.completion === true).length;\n        console.log(\"level3ChoreCount: \", level3ChoreCount);\n        const level3ChoreComplete = res.data[0].chores.filter(item => item.completion === false).length === 0;\n        console.log(\"level3ChoreComplete: \", level3ChoreComplete);\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(NavTabs, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(RewardForm, {\n      rewardLevel1Name: this.state.rewardLevel1Name,\n      rewardLevel2Name: this.state.rewardLevel2Name,\n      rewardLevel3Name: this.state.rewardLevel3Name,\n      completion: this.state.completion,\n      level1ChoreList: this.state.level1ChoreList,\n      handleLevel1RewardNameChange: this.handleLevel1RewardNameChange,\n      handleSaveLevel1Reward: this.handleSaveLevel1Reward,\n      handleCheckboxChange: this.handleCheckboxChange,\n      level2ChoreList: this.state.level2ChoreList,\n      handleLevel2RewardNameChange: this.handleLevel2RewardNameChange,\n      handleSaveLevel2Reward: this.handleSaveLevel2Reward,\n      level3ChoreList: this.state.level3ChoreList,\n      handleLevel3RewardNameChange: this.handleLevel3RewardNameChange,\n      handleSaveLevel3Reward: this.handleSaveLevel3Reward,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default RewardList;","map":{"version":3,"sources":["/Users/sitruk/Desktop/bootcamp/homework/project3/project-3/client/src/pages/RewardList.js"],"names":["React","Component","NavTabs","RewardForm","API","RewardList","state","rewardLevel1Name","rewardLevel2Name","rewardLevel3Name","level","completion","rewardList","level1ChoreList","level2ChoreList","level3ChoreList","handleLevel1RewardNameChange","event","setState","target","value","handleSaveLevel1Reward","preventDefault","console","log","savedReward","id","filter","obj","_id","rewardName","saveReward","then","message","alert","res","componentDidMount","catch","err","handleLevel2RewardNameChange","handleSaveLevel2Reward","handleLevel3RewardNameChange","handleSaveLevel3Reward","handleCheckboxChange","isChecked","itemName","name","checked","getAttribute","dueDate","chore","choreName","updateChore","getReward","level1Name","data","level2Name","level3Name","getChoreByLevel","chores","level1TotalChores","length","level1ChoreCount","item","level1ChoreComplete","level2TotalChores","level2ChoreCount","level2ChoreComplete","level3TotalChores","level3ChoreCount","level3ChoreComplete","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport NavTabs from \"../components/NavTabs/NavTabs\";\nimport RewardForm from \"../components/RewardForm/RewardForm\"\nimport API from \"../utils/API\";\n\n\nclass RewardList extends Component {\n\n    state = {\n        rewardLevel1Name: \"\",\n        rewardLevel2Name: \"\",\n        rewardLevel3Name: \"\",\n        level: \"1\",\n        completion: \"false\",\n\n        rewardList: [],\n        level1ChoreList: [],\n        level2ChoreList: [],\n        level3ChoreList: []\n\n    }\n\n    componentDidMount() {\n        API.getReward()\n            .then(res => {\n                let level1Name = res.data.filter(obj => obj.level === \"1\")[0].rewardName;\n                let level2Name = res.data.filter(obj => obj.level === \"2\")[0].rewardName;\n                let level3Name = res.data.filter(obj => obj.level === \"3\")[0].rewardName;\n\n                this.setState({\n                    rewardList: res.data,\n                    rewardLevel1Name: level1Name,\n                    rewardLevel2Name: level2Name,\n                    rewardLevel3Name: level3Name\n                })\n\n\n            })\n            .then(() => {\n                API.getChoreByLevel(\"1\")\n                    .then(res => {\n                        // console.log(\"is it here\", res.data[0].chores);\n                        this.setState({ level1ChoreList: res.data[0].chores })\n                        const level1TotalChores = res.data[0].chores.length;\n                        console.log(\"level1TotalChores: \", level1TotalChores);\n                        const level1ChoreCount = res.data[0].chores.filter(item => item.completion === true).length;\n                        console.log(\"level1ChoreCount: \", level1ChoreCount);\n                        const level1ChoreComplete = res.data[0].chores.filter(item => item.completion === false).length === 0;\n                        console.log(\"level1ChoreComplete: \", level1ChoreComplete);\n                    })\n\n                API.getChoreByLevel(\"2\")\n                    .then(res => {\n                        // console.log(\"is it here\", res.data[0].chores);\n                        this.setState({ level2ChoreList: res.data[0].chores })\n                        const level2TotalChores = res.data[0].chores.length;\n                        console.log(\"level2TotalChores: \", level2TotalChores);\n                        const level2ChoreCount = res.data[0].chores.filter(item => item.completion === true).length;\n                        console.log(\"level2ChoreCount: \", level2ChoreCount);\n                        const level2ChoreComplete = res.data[0].chores.filter(item => item.completion === false).length === 0;\n                        console.log(\"level2ChoreComplete: \", level2ChoreComplete);\n                    })\n\n                API.getChoreByLevel(\"3\")\n                    .then(res => {\n                        // console.log(\"is it here\", res.data[0].chores);\n                        this.setState({ level3ChoreList: res.data[0].chores })\n                        const level3TotalChores = res.data[0].chores.length;\n                        console.log(\"level3TotalChores: \", level3TotalChores);\n                        const level3ChoreCount = res.data[0].chores.filter(item => item.completion === true).length;\n                        console.log(\"level3ChoreCount: \", level3ChoreCount);\n                        const level3ChoreComplete = res.data[0].chores.filter(item => item.completion === false).length === 0;\n                        console.log(\"level3ChoreComplete: \", level3ChoreComplete);\n                    })\n\n            })\n            .catch(err => console.log(err))\n\n    }\n\n    handleLevel1RewardNameChange = event => {\n        this.setState({ rewardLevel1Name: event.target.value })\n    }\n\n    handleSaveLevel1Reward = event => {\n        event.preventDefault();\n        console.log(\"level1\", this.state.rewardLevel1Name)\n        let savedReward = {\n            id: this.state.rewardList.filter(obj => obj.level === \"1\")[0]._id,\n            rewardName: this.state.rewardLevel1Name,\n            level: \"1\"\n        }\n        API.saveReward(savedReward)\n            .then(this.setState({ message: alert(\"Your reward is saved!\") }))\n            .then(res => this.componentDidMount())\n            .catch(err => console.log(err))\n    }\n\n    handleLevel2RewardNameChange = event => {\n        this.setState({ rewardLevel2Name: event.target.value })\n    }\n\n    handleSaveLevel2Reward = event => {\n        event.preventDefault();\n        console.log(\"level 2\", this.state.rewardLevel2Name)\n        let savedReward = {\n            id: this.state.rewardList.filter(obj => obj.level === \"2\")[0]._id,\n            rewardName: this.state.rewardLevel2Name,\n            level: \"2\"\n        }\n        API.saveReward(savedReward)\n            .then(this.setState({ message: alert(\"Your reward is saved!\") }))\n            .then(res => this.componentDidMount())\n            .catch(err => console.log(err))\n    }\n\n    handleLevel3RewardNameChange = event => {\n        this.setState({ rewardLevel3Name: event.target.value })\n    }\n\n    handleSaveLevel3Reward = event => {\n        event.preventDefault();\n        console.log(\"level 3\", this.state.rewardLevel3Name)\n        let savedReward = {\n            id: this.state.rewardList.filter(obj => obj.level === \"3\")[0]._id,\n            rewardName: this.state.rewardLevel3Name,\n            level: \"3\"\n        }\n        API.saveReward(savedReward)\n            .then(this.setState({ message: alert(\"Your reward is saved!\") }))\n            .then(res => this.componentDidMount())\n            .catch(err => console.log(err))\n    }\n\n    handleCheckboxChange = event => {\n        event.preventDefault();\n        // console.log(\"completion status\", this.state.completion);\n\n        console.log(\"last item checked:\", isChecked,\"\\n\"+itemName);\n        console.log(\"what is event\", event.target);\n        const itemName = event.target.name;\n        const isChecked = event.target.checked;\n        const id = event.target.id;\n        const level = event.target.getAttribute(\"level\");\n        const dueDate = event.target.getAttribute(\"duedate\");\n\n        console.log(\"combine\", itemName, isChecked, id, level, dueDate);\n        let chore = {\n            id: id,\n            choreName: itemName,\n            completion: isChecked,\n            dueDate: dueDate,\n            level: level\n        }\n\n        API.updateChore(chore)\n            // .then(this.setState({message:alert(\"Good job!\")}))\n            .then(res => this.componentDidMount())\n            .catch(err => console.log(err))\n\n\n    }\n\n\n\n    render() {\n        return (\n            <div>\n                <NavTabs />\n                <RewardForm\n                    rewardLevel1Name={this.state.rewardLevel1Name}\n                    rewardLevel2Name={this.state.rewardLevel2Name}\n                    rewardLevel3Name={this.state.rewardLevel3Name}\n                    completion={this.state.completion}\n\n                    level1ChoreList={this.state.level1ChoreList}\n                    handleLevel1RewardNameChange={this.handleLevel1RewardNameChange}\n                    handleSaveLevel1Reward={this.handleSaveLevel1Reward}\n                    handleCheckboxChange={this.handleCheckboxChange}\n\n                    level2ChoreList={this.state.level2ChoreList}\n                    handleLevel2RewardNameChange={this.handleLevel2RewardNameChange}\n                    handleSaveLevel2Reward={this.handleSaveLevel2Reward}\n\n                    level3ChoreList={this.state.level3ChoreList}\n                    handleLevel3RewardNameChange={this.handleLevel3RewardNameChange}\n                    handleSaveLevel3Reward={this.handleSaveLevel3Reward}\n                />\n\n            </div>\n\n        )\n    }\n}\n\nexport default RewardList"]},"metadata":{},"sourceType":"module"}