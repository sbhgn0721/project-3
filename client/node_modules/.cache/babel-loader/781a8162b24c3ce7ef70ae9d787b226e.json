{"ast":null,"code":"var _jsxFileName = \"/Users/sitruk/Desktop/bootcamp/homework/project3/project-3/client/src/pages/ChoreList.js\";\nimport React, { Component } from \"react\";\nimport NavTabs from \"../components/NavTabs/NavTabs\";\nimport AddChore from \"../components/AddChore/AddChore\";\nimport ChoreTableHead from \"../components/ChoreTableHead/ChoreTableHead\";\nimport ChoreTableRow from \"../components/ChoreTableRow/ChoreTableRow\";\nimport ChoreModal from \"../components/ChoreModal/ChoreModal\";\nimport API from \"../utils/API\";\n\nclass ChoreList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      choreName: \"\",\n      level: \"1\",\n      dueDate: \"\",\n      openChoreModal: false,\n      modalChoreId: \"0\",\n      modalChoreName: \"\",\n      modalLevel: \"1\",\n      modalDueDate: \"\",\n      choreList: []\n    };\n\n    this.handleChoreNameChange = event => {\n      this.setState({\n        choreName: event.target.value\n      });\n    };\n\n    this.handleLevelChange = event => {\n      this.setState({\n        level: event.target.value\n      });\n    };\n\n    this.handleDueDateChange = event => {\n      this.setState({\n        dueDate: event.target.value\n      });\n    };\n\n    this.handleSaveChore = event => {\n      event.preventDefault();\n      console.log('hkhk', this.state.choreName);\n      let savedChore = {\n        choreName: this.state.choreName,\n        level: this.state.level,\n        completion: false\n      };\n      API.saveChore(savedChore).then(this.setState({\n        message: alert(\"Your chore is saved!\")\n      })).then(res => this.componentDidMount()).catch(err => console.log(err));\n    };\n\n    this.handleUpdateChore = (event, id) => {\n      event.preventDefault();\n      console.log('evet', event);\n      let updatedChore = {\n        id: id,\n        choreName: this.state.modalChoreName,\n        level: this.state.modalLevel,\n        dueDate: this.state.modalDueDate,\n        completion: false\n      };\n      console.log('update chore', updatedChore);\n      API.updateChore(updatedChore).then(this.setState({\n        openChoreModal: false\n      })).then(res => this.componentDidMount()).catch(err => console.log(err));\n    };\n\n    this.handleDeleteChore = id => {\n      if (window.confirm(\"delete chore item\")) {\n        API.deleteChore(id).then(res => this.componentDidMount()).catch(err => console.log(err));\n      }\n    };\n\n    this.loadChoreModal = item => {\n      this.setState({\n        openChoreModal: true,\n        modalChoreId: item._id,\n        modalChoreName: item.choreName,\n        modalLevel: item.level,\n        modalDueDate: item.dueDate\n      }, () => {\n        console.log(this.state.modalChoreName);\n      });\n    };\n\n    this.closeModalHandler = () => {\n      this.setState({\n        openChoreModal: false\n      });\n    };\n\n    this.handleModalChoreNameChange = event => {\n      this.setState({\n        modalChoreName: event.target.value\n      });\n    };\n\n    this.handleModalLevelChange = event => {\n      this.setState({\n        modalLevel: event.target.value\n      });\n    };\n\n    this.handleModalDueDateChange = event => {\n      this.setState({\n        modalDueDate: event.target.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"called chore list\");\n    API.getChore().then(res => this.setState({\n      choreList: res.data\n    })).catch(err => console.log(err));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(NavTabs, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(AddChore, {\n      handleChoreNameChange: this.handleChoreNameChange,\n      handleLevelChange: this.handleLevelChange,\n      handleDueDateChange: this.handleDueDateChange,\n      handleSaveChore: this.handleSaveChore,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(ChoreTableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(ChoreTableRow, {\n      choreList: this.state.choreList,\n      openChoreModal: this.state.openChoreModal,\n      handleDeleteChore: this.handleDeleteChore,\n      loadChoreModal: this.loadChoreModal,\n      handleModalChoreNameChange: this.handleModalChoreNameChange,\n      handleModalLevelChange: this.handleModalLevelChange,\n      handleModalDueDateChange: this.handleModalDueDateChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(ChoreModal, {\n      show: this.state.openChoreModal,\n      close: !this.state.openChoreModal,\n      modalChoreId: this.state.modalChoreId,\n      handleModalChoreNameChange: this.handleModalChoreNameChange,\n      handleModalLevelChange: this.handleModalLevelChange,\n      handleModalDueDateChange: this.handleModalDueDateChange,\n      handleUpdateChore: this.handleUpdateChore,\n      modalChoreName: this.state.modalChoreName,\n      modalLevel: this.state.modalLevel,\n      modalDueDate: this.state.modalDueDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ChoreList;","map":{"version":3,"sources":["/Users/sitruk/Desktop/bootcamp/homework/project3/project-3/client/src/pages/ChoreList.js"],"names":["React","Component","NavTabs","AddChore","ChoreTableHead","ChoreTableRow","ChoreModal","API","ChoreList","state","choreName","level","dueDate","openChoreModal","modalChoreId","modalChoreName","modalLevel","modalDueDate","choreList","handleChoreNameChange","event","setState","target","value","handleLevelChange","handleDueDateChange","handleSaveChore","preventDefault","console","log","savedChore","completion","saveChore","then","message","alert","res","componentDidMount","catch","err","handleUpdateChore","id","updatedChore","updateChore","handleDeleteChore","window","confirm","deleteChore","loadChoreModal","item","_id","closeModalHandler","handleModalChoreNameChange","handleModalLevelChange","handleModalDueDateChange","getChore","data","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport NavTabs from \"../components/NavTabs/NavTabs\";\nimport AddChore from \"../components/AddChore/AddChore\";\nimport ChoreTableHead from \"../components/ChoreTableHead/ChoreTableHead\";\nimport ChoreTableRow from \"../components/ChoreTableRow/ChoreTableRow\";\nimport ChoreModal from \"../components/ChoreModal/ChoreModal\";\nimport API from \"../utils/API\";\n\nclass ChoreList extends Component {\n    state = {\n        choreName: \"\",\n        level: \"1\",\n        dueDate: \"\",\n        openChoreModal: false,\n        modalChoreId: \"0\",\n        modalChoreName: \"\",\n        modalLevel: \"1\",\n        modalDueDate: \"\",\n        choreList:[]\n    }\n\n    componentDidMount() {\n        console.log(\"called chore list\");\n        API.getChore()\n            .then(res => this.setState({ choreList: res.data }))\n            .catch(err => console.log(err))\n    }\n\n    handleChoreNameChange = event => {\n        this.setState({ choreName: event.target.value })\n    }\n\n    handleLevelChange = event => {\n        this.setState({ level: event.target.value })\n    }\n\n    handleDueDateChange = event => {\n        this.setState({ dueDate: event.target.value })\n    }\n\n    handleSaveChore = event => {\n        event.preventDefault();\n        console.log('hkhk', this.state.choreName)\n        let savedChore = {\n            choreName: this.state.choreName,\n            level: this.state.level,\n            completion: false\n        }\n        API.saveChore(savedChore)\n            .then(this.setState({ message: alert(\"Your chore is saved!\") }))\n            .then(res => this.componentDidMount())\n            .catch(err => console.log(err))\n    }\n\n    handleUpdateChore = (event,id) => {\n        event.preventDefault();\n        console.log('evet',event);\n        let updatedChore = {\n            id: id,\n            choreName: this.state.modalChoreName,\n            level: this.state.modalLevel,\n            dueDate: this.state.modalDueDate,\n            completion: false\n        }\n        console.log('update chore', updatedChore);\n        API.updateChore(updatedChore)\n        .then(this.setState({openChoreModal:false}))\n        .then(res => this.componentDidMount())\n        .catch(err => console.log(err))\n\n    }\n\n    handleDeleteChore = id => {\n        if(window.confirm(\"delete chore item\")){\n            API.deleteChore(id)\n            .then(res => this.componentDidMount())\n            .catch(err => console.log(err))\n\n    }\n\n    }\n    \n    loadChoreModal = item => {\n\n            this.setState(\n            {\n                openChoreModal: true,\n                modalChoreId: item._id,\n                modalChoreName: item.choreName,\n                modalLevel: item.level,\n                modalDueDate: item.dueDate\n            }, ()=>{\n                console.log(this.state.modalChoreName);\n\n            })\n    }\n\n    closeModalHandler =()=>{\n        this.setState({openChoreModal: false})\n    }\n    \n\n    handleModalChoreNameChange = event => {\n        this.setState({modalChoreName: event.target.value})\n    }\n\n    handleModalLevelChange =  event => {\n        this.setState({modalLevel: event.target.value})\n    }\n\n    handleModalDueDateChange = event => {\n        this.setState({modalDueDate: event.target.value})\n    }\n\n    \n    render() {\n        return (\n            <div>\n                <NavTabs />\n                <AddChore \n                handleChoreNameChange = {this.handleChoreNameChange}\n                handleLevelChange={this.handleLevelChange}\n                handleDueDateChange={this.handleDueDateChange}\n                handleSaveChore={this.handleSaveChore}\n                />\n                <ChoreTableHead />\n                <ChoreTableRow \n                choreList = {this.state.choreList}\n                openChoreModal = {this.state.openChoreModal}\n                handleDeleteChore = {this.handleDeleteChore}\n                loadChoreModal = {this.loadChoreModal}\n                handleModalChoreNameChange = {this.handleModalChoreNameChange}\n                handleModalLevelChange={this.handleModalLevelChange}\n                handleModalDueDateChange={this.handleModalDueDateChange}\n                />\n                <ChoreModal \n                show={this.state.openChoreModal} \n                close={!this.state.openChoreModal} \n                modalChoreId={this.state.modalChoreId}\n                handleModalChoreNameChange = {this.handleModalChoreNameChange}\n                handleModalLevelChange={this.handleModalLevelChange}\n                handleModalDueDateChange={this.handleModalDueDateChange}\n                handleUpdateChore={this.handleUpdateChore}\n                modalChoreName={this.state.modalChoreName}\n                modalLevel={this.state.modalLevel}\n                modalDueDate={this.state.modalDueDate}>\n                </ChoreModal>\n                \n            </div>\n        )\n    }\n\n\n}\n\nexport default ChoreList"]},"metadata":{},"sourceType":"module"}